(function(a){if(!a.Indextank){a.Indextank=new Object()}a.Indextank.Permalinks=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$el.data("Indextank.Permalinks",d);d.init=function(){d.options=a.extend({},a.Indextank.Permalinks.defaultOptions,b);d.$el.bind("Indextank.AjaxSearch.success",function(g,h){window.location.hash=d.options.prefix+h.query.queryString});if(window.location.hash.indexOf(d.options.prefix)==1){var f=window.location.hash.substr(d.options.prefix.length+1,100);var e=d.$el.data("Indextank.AjaxSearch").getDefaultQuery().clone();e.withQueryString(f);d.$el.trigger("Indextank.AjaxSearch.runQuery",e)}};d.init()};a.Indextank.Permalinks.defaultOptions={prefix:"search-"};a.fn.indextank_Permalinks=function(b){return this.each(function(){(new a.Indextank.Permalinks(this,b))})}})(jQuery);