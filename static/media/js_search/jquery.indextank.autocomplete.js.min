(function(a){if(!a.Indextank){a.Indextank=new Object()}a.Indextank.Autocomplete=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$el.data("Indextank.Autocomplete",d);d.init=function(){d.options=a.extend({},a.Indextank.Autocomplete.defaultOptions,b);var e=a(d.el.form).data("Indextank.Ize");d.$el.autocomplete({select:function(f,g){f.target.value=g.item.value;a(f.target.form).submit()},source:function(g,f){a.ajax({url:e.apiurl+"/v1/indexes/"+e.indexName+"/autocomplete",dataType:"jsonp",data:{query:g.term,field:d.options.fieldName},success:function(h){f(h.suggestions);d.$el.trigger("Indextank.Autocomplete.success",[h.suggestions])}})},minLength:d.options.minLength,delay:d.options.delay});e.$el.submit(function(f){d.$el.data("autocomplete").close()});d.$el.bind("Indextank.AjaxSearch.searching",function(f){})};d.init()};a.Indextank.Autocomplete.defaultOptions={fieldName:"text",minLength:2,delay:100};a.fn.indextank_Autocomplete=function(b){return this.each(function(){(new a.Indextank.Autocomplete(this,b))})};a.fn.getIndextank_Autocomplete=function(){this.data("Indextank.Autocomplete")}})(jQuery);