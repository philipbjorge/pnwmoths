(function(a){if(!a.Indextank){a.Indextank=new Object()}a.Indextank.InstantSearch=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$el.data("Indextank.InstantSearch",d);d.init=function(){d.options=a.extend({},a.Indextank.InstantSearch.defaultOptions,b);d.$el.bind("Indextank.Autocomplete.success",function(f,e){if(e.length>0){var g=d.$el.data("Indextank.AjaxSearch").getDefaultQuery().clone();g.withQueryString(e[0]);d.$el.trigger("Indextank.AjaxSearch.runQuery",g)}else{d.$el.trigger("Indextank.AjaxSearch.displayNoResults")}});if(d.options.focusTriggersSearch){d.$el.bind("autocompletefocus",function(e,g){var f=d.$el.data("Indextank.AjaxSearch").getDefaultQuery().clone();f.withQueryString(g.item.value);d.$el.trigger("Indextank.AjaxSearch.runQuery",f)})}};d.init()};a.Indextank.InstantSearch.defaultOptions={focusTriggersSearch:false};a.fn.indextank_InstantSearch=function(b){return this.each(function(){(new a.Indextank.InstantSearch(this,b))})}})(jQuery);