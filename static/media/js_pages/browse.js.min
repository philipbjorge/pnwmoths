(function(a){a.fn.implement_browse=function(){var d=jQuery(this).parents(".browse_item").length+1;jQuery(this).width(jQuery(".twelvecol").width()-10*d);jQuery(this).find(".ajax").width(jQuery(".twelvecol").width()-10*d);if(jQuery(this).parents(".browse_item").length){var c=jQuery(this).parents(".browse_item").find("h3").css("fontSize");var b=parseFloat(c,10)/1.2;var e=c.slice(-2);jQuery(this).find("h3").css("fontSize",b+e)}jQuery(this).find(".browse_heading").prepend('<a class="toggle_item expand_button">+</a>');jQuery(this).find(".toggle_item").toggle(function(){jQuery(this).html("-")},function(){jQuery(this).html("+")});jQuery(this).find(".browse_thumbs").click(function(){jQuery(this).siblings(".browse_heading").find(".toggle_item").click()});jQuery(this).find(".toggle_item").click(function(){if(jQuery(this).parent().siblings(".ajax").html().length){jQuery(this).parent().siblings(".browse_thumbs").slideToggle("slow");jQuery(this).parent().siblings(".ajax").slideToggle("slow")}else{var f=jQuery(this).parent().find("h3 a").attr("href");jQuery(this).html("&nbsp;");jQuery(this).addClass("loading_toggle");jQuery(this).parent().siblings(".ajax").load(f+" .browse_items",function(){jQuery(this).parent().find(".toggle_item").removeClass("loading_toggle").html("-");jQuery(this).append('<div style="height: 0px; clear: both;">&nbsp;</div>');jQuery(this).find(".browse_item:not(.species)").implement_browse();jQuery(this).implement_species_width();if(jQuery("#browse_images_toggle").hasClass("browse_checked")){jQuery(".browse_thumbs img").hide();jQuery(this).find(".browse_genus_species").toggleClass("browse_genus_species");jQuery(this).find(".browse_genus_species").toggleClass("browse_genus_species");jQuery(this).siblings(".browse_thumbs").slideToggle("slow");jQuery(this).slideToggle("slow")}else{var g=jQuery(this);jQuery(this).parent().waitForImages(function(){g.siblings(".browse_thumbs").slideToggle("slow");g.slideToggle("300");var h=jQuery(this).find(".browse_genus_species");h.toggleClass("browse_genus_species");h.toggleClass("browse_genus_species");if(g.find(".browse_item").length==g.find('.browse_item:contains("(1)")').length){g.find('.browse_item:contains("(1)")').find(".toggle_item").click()}})}return false})}})};a.fn.implement_species_width=function(){var b=jQuery(this).children(".species").length;if(b<=6){jQuery(this).children(".species").width("46%");jQuery(this).children(".species:nth-child(2n+1)").css("clear","both")}else{if(6<b&&b<=20){jQuery(this).children(".species").width("30%");jQuery(this).children(".species:nth-child(3n+1)").css("clear","both")}else{jQuery(this).children(".species").width("23%");jQuery(this).children(".species:nth-child(4n+1)").css("clear","both")}}}})(jQuery);jQuery(document).ready(function(){if(jQuery(window).width()>500){jQuery("#body").find(".browse_item:not(.species)").implement_browse()}else{jQuery(".browse_item").click(function(){window.location=jQuery(this).find("h3 a").attr("href")})}jQuery("#browse_images_toggle").toggle(function(){jQuery(this).html("Turn on Images?");jQuery(this).addClass("browse_checked");jQuery(".browse_thumbs img").hide()},function(){jQuery(this).html("Turn off Images?");jQuery(this).removeClass("browse_checked");jQuery(".browse_thumbs img").show()});jQuery("#content").delegate(".species","click",function(){window.location=jQuery(this).find("h3 a").attr("href");return false});jQuery("#content").delegate(".species","hover",function(){jQuery(this).toggleClass("browse_item_hover")})});